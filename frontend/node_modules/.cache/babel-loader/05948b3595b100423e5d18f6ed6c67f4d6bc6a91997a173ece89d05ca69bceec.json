{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Table,Form}from'react-bootstrap';import{getSellerOutput,getStaff}from'../../services/api';import'./SellerOutput.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SellerOutput=()=>{const[criteria,setCriteria]=useState({start_date:'',end_date:'',type_id:''});const[outputs,setOutputs]=useState([]);const[staffNames,setStaffNames]=useState({});useEffect(()=>{fetchStaff();},[]);const fetchStaff=async()=>{try{const staffResponse=await getStaff();const staffMap=staffResponse.data.reduce((acc,staff)=>{acc[staff.id]=staff.name;// Assuming each staff object has 'id' and 'name'\nreturn acc;},{});setStaffNames(staffMap);}catch(error){console.error('Failed to fetch staff details',error);}};const handleChange=e=>{setCriteria({...criteria,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();try{const response=await getSellerOutput(criteria);setOutputs(response.data);}catch(error){console.error('Failed to fetch seller output',error);setOutputs([]);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid seller-output-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Seller Output\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Start Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"start_date\",value:criteria.start_date,onChange:handleChange,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"End Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"end_date\",value:criteria.end_date,onChange:handleChange,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type ID (optional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"type_id\",value:criteria.type_id,onChange:handleChange,className:\"form-control\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"btn btn-dark mt-2\",children:\"Search\"})]}),outputs.length>0?/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,variant:\"dark\",className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Staff Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Quantity Sold\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Revenue\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:outputs.map(output=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:output.staff_id}),/*#__PURE__*/_jsx(\"td\",{children:output.total_quantity}),/*#__PURE__*/_jsx(\"td\",{children:output.total_revenue})]},output.staff_id))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No output data found for the specified criteria.\"})]});};export default SellerOutput;","map":{"version":3,"names":["React","useState","useEffect","Button","Table","Form","getSellerOutput","getStaff","jsx","_jsx","jsxs","_jsxs","SellerOutput","criteria","setCriteria","start_date","end_date","type_id","outputs","setOutputs","staffNames","setStaffNames","fetchStaff","staffResponse","staffMap","data","reduce","acc","staff","id","name","error","console","handleChange","e","target","value","handleSubmit","preventDefault","response","className","children","onSubmit","type","onChange","length","striped","bordered","hover","variant","map","output","staff_id","total_quantity","total_revenue"],"sources":["D:/InformationSystemTradingOrganization/frontend/src/components/Sales/SellerOutput.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Button, Table, Form } from 'react-bootstrap';\r\nimport { getSellerOutput, getStaff } from '../../services/api';\r\nimport './SellerOutput.css';\r\n\r\nconst SellerOutput = () => {\r\n    const [criteria, setCriteria] = useState({\r\n        start_date: '',\r\n        end_date: '',\r\n        type_id: ''\r\n    });\r\n    const [outputs, setOutputs] = useState([]);\r\n    const [staffNames, setStaffNames] = useState({});\r\n\r\n    useEffect(() => {\r\n        fetchStaff();\r\n    }, []);\r\n\r\n    const fetchStaff = async () => {\r\n        try {\r\n            const staffResponse = await getStaff();\r\n            const staffMap = staffResponse.data.reduce((acc, staff) => {\r\n                acc[staff.id] = staff.name;  // Assuming each staff object has 'id' and 'name'\r\n                return acc;\r\n            }, {});\r\n            setStaffNames(staffMap);\r\n        } catch (error) {\r\n            console.error('Failed to fetch staff details', error);\r\n        }\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setCriteria({ ...criteria, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await getSellerOutput(criteria);\r\n            setOutputs(response.data);\r\n        } catch (error) {\r\n            console.error('Failed to fetch seller output', error);\r\n            setOutputs([]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container-fluid seller-output-container\">\r\n            <h3>Seller Output</h3>\r\n            <Form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label>Start Date:</label>\r\n                    <input\r\n                        type=\"date\"\r\n                        name=\"start_date\"\r\n                        value={criteria.start_date}\r\n                        onChange={handleChange}\r\n                        className=\"form-control\"\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>End Date:</label>\r\n                    <input\r\n                        type=\"date\"\r\n                        name=\"end_date\"\r\n                        value={criteria.end_date}\r\n                        onChange={handleChange}\r\n                        className=\"form-control\"\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Type ID (optional):</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"type_id\"\r\n                        value={criteria.type_id}\r\n                        onChange={handleChange}\r\n                        className=\"form-control\"\r\n                    />\r\n                </div>\r\n                <Button type=\"submit\" className=\"btn btn-dark mt-2\">Search</Button>\r\n            </Form>\r\n            {outputs.length > 0 ? (\r\n                <Table striped bordered hover variant=\"dark\" className=\"mt-2\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>Staff Id</th>\r\n                        <th>Total Quantity Sold</th>\r\n                        <th>Total Revenue</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {outputs.map(output => (\r\n                        <tr key={output.staff_id}>\r\n                            <td>{output.staff_id}</td>\r\n                            <td>{output.total_quantity}</td>\r\n                            <td>{output.total_revenue}</td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            ) : <p>No output data found for the specified criteria.</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SellerOutput;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}