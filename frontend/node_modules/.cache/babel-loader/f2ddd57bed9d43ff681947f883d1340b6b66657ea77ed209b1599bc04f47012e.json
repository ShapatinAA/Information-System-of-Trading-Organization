{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Table}from'react-bootstrap';import{Link,useNavigate}from'react-router-dom';import{getSuppliers,deleteSupplier}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SuppliersPage(){const[suppliers,setSuppliers]=useState([]);const[showTable,setShowTable]=useState(true);const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(0);const[totalElements,setTotalElements]=useState(0);const recordPerPage=5;const navigate=useNavigate();useEffect(()=>{init(currentPage);},[currentPage]);const init=page=>{getSuppliers().then(response=>{const start=(page-1)*recordPerPage;const end=start+recordPerPage;setSuppliers(response.data.slice(start,end));setTotalPages(Math.ceil(response.data.length/recordPerPage));setTotalElements(response.data.length);setCurrentPage(page);}).catch(error=>{console.error(error);});};const handleDelete=id=>{deleteSupplier(id).then(()=>{init(currentPage);}).catch(error=>{console.log('Something went wrong',error);});};const showNextPage=()=>{if(currentPage<totalPages){setCurrentPage(currentPage+1);}};const showLastPage=()=>{if(currentPage<totalPages){setCurrentPage(totalPages);}};const showFirstPage=()=>{if(currentPage>1){setCurrentPage(1);}};const showPrevPage=()=>{if(currentPage>1){setCurrentPage(currentPage-1);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Suppliers\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setShowTable(!showTable),className:\"btn btn-dark mb-2\",children:showTable?'Hide Table':'Show Table'}),showTable&&/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/suppliers/add\",className:\"btn btn-dark mb-2\",children:\"Add Supplier\"}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,variant:\"dark\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:suppliers.map(supplier=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:supplier.id}),/*#__PURE__*/_jsx(\"td\",{children:supplier.name}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/suppliers/edit/\".concat(supplier.id),className:\"btn btn-danger\",children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>handleDelete(supplier.id),className:\"btn btn-danger\",style:{marginLeft:10},children:\"Delete\"})]})]},supplier.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-block\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{float:'left',color:'#D10000'},children:[\"Page \",currentPage,\" of \",totalPages]}),/*#__PURE__*/_jsx(\"div\",{style:{float:'right'},children:/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",disabled:currentPage===1,onClick:showFirstPage,children:\"First\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",disabled:currentPage===1,onClick:showPrevPage,children:\"Previous\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",disabled:currentPage===totalPages,onClick:showNextPage,children:\"Next\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",disabled:currentPage===totalPages,onClick:showLastPage,children:\"Last\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{style:{clear:'both'}})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Button","Table","Link","useNavigate","getSuppliers","deleteSupplier","jsx","_jsx","jsxs","_jsxs","SuppliersPage","suppliers","setSuppliers","showTable","setShowTable","currentPage","setCurrentPage","totalPages","setTotalPages","totalElements","setTotalElements","recordPerPage","navigate","init","page","then","response","start","end","data","slice","Math","ceil","length","catch","error","console","handleDelete","id","log","showNextPage","showLastPage","showFirstPage","showPrevPage","children","onClick","className","to","striped","bordered","hover","variant","map","supplier","name","concat","style","marginLeft","float","color","disabled","clear"],"sources":["D:/InformationSystemTradingOrganization/frontend/src/components/Suppliers/SuppliersPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Button, Table } from 'react-bootstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { getSuppliers, deleteSupplier } from '../../services/api';\r\n\r\nexport default function SuppliersPage() {\r\n    const [suppliers, setSuppliers] = useState([]);\r\n    const [showTable, setShowTable] = useState(true);\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [totalPages, setTotalPages] = useState(0);\r\n    const [totalElements, setTotalElements] = useState(0);\r\n\r\n    const recordPerPage = 5;\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        init(currentPage);\r\n    }, [currentPage]);\r\n\r\n    const init = (page) => {\r\n        getSuppliers()\r\n            .then(response => {\r\n                const start = (page - 1) * recordPerPage;\r\n                const end = start + recordPerPage;\r\n                setSuppliers(response.data.slice(start, end));\r\n                setTotalPages(Math.ceil(response.data.length / recordPerPage));\r\n                setTotalElements(response.data.length);\r\n                setCurrentPage(page);\r\n            })\r\n            .catch(error => {\r\n                console.error(error);\r\n            });\r\n    };\r\n\r\n    const handleDelete = (id) => {\r\n        deleteSupplier(id)\r\n            .then(() => {\r\n                init(currentPage);\r\n            })\r\n            .catch(error => {\r\n                console.log('Something went wrong', error);\r\n            });\r\n    };\r\n\r\n    const showNextPage = () => {\r\n        if (currentPage < totalPages) {\r\n            setCurrentPage(currentPage + 1);\r\n        }\r\n    };\r\n\r\n    const showLastPage = () => {\r\n        if (currentPage < totalPages) {\r\n            setCurrentPage(totalPages);\r\n        }\r\n    };\r\n\r\n    const showFirstPage = () => {\r\n        if (currentPage > 1) {\r\n            setCurrentPage(1);\r\n        }\r\n    };\r\n\r\n    const showPrevPage = () => {\r\n        if (currentPage > 1) {\r\n            setCurrentPage(currentPage - 1);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Suppliers</h2>\r\n            <Button onClick={() => setShowTable(!showTable)} className=\"btn btn-dark mb-2\">\r\n                {showTable ? 'Hide Table' : 'Show Table'}\r\n            </Button>\r\n            {showTable && (\r\n                <div className=\"table-container\">\r\n                    <Link to=\"/suppliers/add\" className=\"btn btn-dark mb-2\">Add Supplier</Link>\r\n                    <Table striped bordered hover variant=\"dark\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>ID</th>\r\n                            <th>Name</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {suppliers.map(supplier => (\r\n                            <tr key={supplier.id}>\r\n                                <td>{supplier.id}</td>\r\n                                <td>{supplier.name}</td>\r\n                                <td>\r\n                                    <Link to={`/suppliers/edit/${supplier.id}`} className=\"btn btn-danger\">Edit</Link>\r\n                                    <Button onClick={() => handleDelete(supplier.id)} className=\"btn btn-danger\" style={{ marginLeft: 10 }}>Delete</Button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        </tbody>\r\n                    </Table>\r\n                    <div className=\"pagination-block\">\r\n                        <div style={{ float: 'left', color: '#D10000' }}>\r\n                            Page {currentPage} of {totalPages}\r\n                        </div>\r\n                        <div style={{ float: 'right' }}>\r\n                            <nav>\r\n                                <ul className=\"pagination\">\r\n                                    <li className=\"page-item\">\r\n                                        <button className=\"page-link\" disabled={currentPage === 1} onClick={showFirstPage}>First</button>\r\n                                    </li>\r\n                                    <li className=\"page-item\">\r\n                                        <button className=\"page-link\" disabled={currentPage === 1} onClick={showPrevPage}>Previous</button>\r\n                                    </li>\r\n                                    <li className=\"page-item\">\r\n                                        <button className=\"page-link\" disabled={currentPage === totalPages} onClick={showNextPage}>Next</button>\r\n                                    </li>\r\n                                    <li className=\"page-item\">\r\n                                        <button className=\"page-link\" disabled={currentPage === totalPages} onClick={showLastPage}>Last</button>\r\n                                    </li>\r\n                                </ul>\r\n                            </nav>\r\n                        </div>\r\n                        <div style={{ clear: 'both' }}></div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}